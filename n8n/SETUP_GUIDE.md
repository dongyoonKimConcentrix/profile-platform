# n8n Supabase ë…¸ë“œ ì„¤ì • ê°€ì´ë“œ

## Supabase ë…¸ë“œ Operation ì˜µì…˜

n8nì˜ Supabase ë…¸ë“œì—ì„œ **Operation** í•„ë“œì—ëŠ” ë‹¤ìŒ ì˜µì…˜ë“¤ì´ ìˆìŠµë‹ˆë‹¤:

### ğŸ“‹ Operation ì˜µì…˜ ëª©ë¡

1. **Create a new row** (ìƒˆ í–‰ ìƒì„±) âœ… **ì´ê²ƒì„ ì„ íƒí•˜ì„¸ìš”!**
   - ìƒˆë¡œìš´ í”„ë¡œí•„ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì¶”ê°€í•  ë•Œ ì‚¬ìš©
   - ìš°ë¦¬ ì›Œí¬í”Œë¡œìš°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì˜µì…˜

2. **Get a row** (í•˜ë‚˜ì˜ í–‰ ì¡°íšŒ)
   - íŠ¹ì • IDë‚˜ ì¡°ê±´ìœ¼ë¡œ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©

3. **Get all rows** (ëª¨ë“  í–‰ ì¡°íšŒ)
   - ì¡°ê±´ì— ë§ëŠ” ì—¬ëŸ¬ ë ˆì½”ë“œë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©

4. **Update a row** (í–‰ ì—…ë°ì´íŠ¸)
   - ê¸°ì¡´ ë ˆì½”ë“œë¥¼ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©

5. **Delete a row** (í–‰ ì‚­ì œ)
   - ë ˆì½”ë“œë¥¼ ì‚­ì œí•  ë•Œ ì‚¬ìš©

## ìš°ë¦¬ ì›Œí¬í”Œë¡œìš° ì„¤ì •

### Save to Supabase ë…¸ë“œ ì„¤ì •

1. **Operation**: `Create a new row` ì„ íƒ
2. **Table**: `profiles` ì…ë ¥
3. **Columns**: **"Auto-map Input Data"** ì„ íƒ âœ…
   - ì´ë ‡ê²Œ í•˜ë©´ `Prepare Supabase Data` ë…¸ë“œì—ì„œ ì¤€ë¹„í•œ ëª¨ë“  ë°ì´í„°ê°€ ìë™ìœ¼ë¡œ ë§¤í•‘ë©ë‹ˆë‹¤!
   - ìˆ˜ë™ ë§¤í•‘ì´ í•„ìš” ì—†ìŠµë‹ˆë‹¤.

### âš ï¸ Embedding í•„ë“œ ì£¼ì˜ì‚¬í•­

`embedding` í•„ë“œëŠ” ë²¡í„° íƒ€ì…ì´ë¯€ë¡œ íŠ¹ë³„í•œ ì²˜ë¦¬ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
- `Prepare Supabase Data` ë…¸ë“œì—ì„œ ì´ë¯¸ ë¬¸ìì—´ í˜•ì‹(`[0.1, 0.2, ...]`)ìœ¼ë¡œ ë³€í™˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
- Supabaseê°€ ìë™ìœ¼ë¡œ ë²¡í„°ë¡œ ë³€í™˜í•˜ê±°ë‚˜, í•„ìš”ì‹œ Supabase Functionì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### âš ï¸ ì¤‘ìš” ì‚¬í•­

#### Embedding í•„ë“œ ì²˜ë¦¬
Supabaseì˜ `embedding` í•„ë“œëŠ” `vector(1536)` íƒ€ì…ì…ë‹ˆë‹¤. n8nì—ì„œ ì§ì ‘ ë²¡í„°ë¥¼ ì €ì¥í•˜ë ¤ë©´:

**ë°©ë²• 1: Code ë…¸ë“œì—ì„œ ë¬¸ìì—´ë¡œ ë³€í™˜**
```javascript
// Prepare Supabase Data ë…¸ë“œì—ì„œ
embedding: embedding.length > 0 ? `[${embedding.join(',')}]` : null
```

**ë°©ë²• 2: Supabase Function ì‚¬ìš©**
Supabaseì— í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ë²¡í„°ë¥¼ ë³€í™˜í•˜ëŠ” ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤.

#### Domain í•„ë“œ ì²˜ë¦¬
`domain` í•„ë“œëŠ” ë°°ì—´ íƒ€ì…ì…ë‹ˆë‹¤. n8nì—ì„œ ë°°ì—´ì„ ì „ë‹¬í•  ë•Œ:
- ë°°ì—´ì´ë©´ ê·¸ëŒ€ë¡œ ì „ë‹¬
- ë‹¨ì¼ ê°’ì´ë©´ ë°°ì—´ë¡œ ë³€í™˜: `[value]`
- nullì´ë©´ `null`

## ì„¤ì • ë‹¨ê³„ë³„ ê°€ì´ë“œ

### 1ë‹¨ê³„: Supabase Credentials ì„¤ì •

1. n8n ëŒ€ì‹œë³´ë“œ â†’ **Credentials** ë©”ë‰´
2. **Add Credential** í´ë¦­
3. **Supabase** ì„ íƒ
4. ë‹¤ìŒ ì •ë³´ ì…ë ¥:
   - **Host**: `your-project-id.supabase.co`
   - **Service Role Secret**: Supabase ëŒ€ì‹œë³´ë“œ â†’ Settings â†’ API â†’ `service_role` í‚¤
   - **Schema**: `public`

### 2ë‹¨ê³„: Supabase ë…¸ë“œ ì„¤ì •

1. ì›Œí¬í”Œë¡œìš°ì—ì„œ **Save to Supabase** ë…¸ë“œ í´ë¦­
2. **Credential** ë“œë¡­ë‹¤ìš´ì—ì„œ ìœ„ì—ì„œ ë§Œë“  Supabase Credential ì„ íƒ
3. **Operation** ë“œë¡­ë‹¤ìš´ì—ì„œ **"Create a new row"** ì„ íƒ
4. **Table** í•„ë“œì— `profiles` ì…ë ¥
5. **Columns** ì„¹ì…˜ì—ì„œ **"Auto-map Input Data"** ì„ íƒ âœ…
   - ì´ë ‡ê²Œ í•˜ë©´ ìë™ìœ¼ë¡œ ëª¨ë“  í•„ë“œê°€ ë§¤í•‘ë©ë‹ˆë‹¤!
   - ìˆ˜ë™ìœ¼ë¡œ í•˜ë‚˜ì”© ë§¤í•‘í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.

### 3ë‹¨ê³„: í…ŒìŠ¤íŠ¸

1. ì›Œí¬í”Œë¡œìš°ë¥¼ **Active**ë¡œ ì„¤ì •
2. í…ŒìŠ¤íŠ¸ íŒŒì¼ ì—…ë¡œë“œ
3. Supabase ëŒ€ì‹œë³´ë“œì—ì„œ `profiles` í…Œì´ë¸” í™•ì¸

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### "Operation not found" ì—ëŸ¬
- n8n ë²„ì „ í™•ì¸ (ìµœì‹  ë²„ì „ ì‚¬ìš© ê¶Œì¥)
- Supabase ë…¸ë“œê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### "Table not found" ì—ëŸ¬
- í…Œì´ë¸” ì´ë¦„ì´ ì •í™•í•œì§€ í™•ì¸ (`profiles`)
- Schemaê°€ `public`ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### "Column type mismatch" ì—ëŸ¬
- `domain` í•„ë“œëŠ” ë°°ì—´ë¡œ ì „ë‹¬í•´ì•¼ í•¨
- `embedding` í•„ë“œëŠ” ë²¡í„° í˜•ì‹ìœ¼ë¡œ ì „ë‹¬í•´ì•¼ í•¨
- `skills` í•„ë“œëŠ” ë°°ì—´ë¡œ ì „ë‹¬í•´ì•¼ í•¨

### Embedding ì €ì¥ ì‹¤íŒ¨
- ë²¡í„° í˜•ì‹ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
- Code ë…¸ë“œì—ì„œ ë°°ì—´ì„ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ëŠ” ë¡œì§ í™•ì¸
- Supabaseì—ì„œ `vector` í™•ì¥ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

## ì°¸ê³  ìë£Œ

- [n8n Supabase ë…¸ë“œ ë¬¸ì„œ](https://docs.n8n.io/integrations/builtin/app-nodes/n8n-nodes-base.supabase/)
- [Supabase API ë¬¸ì„œ](https://supabase.com/docs/reference/javascript/introduction)
